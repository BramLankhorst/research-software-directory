language: python
python:
- 3.6
services:
- docker
- mongodb
cache: pip
install:
- pip install pytest
- pip install pytest-cov
- pip install -r requirements.txt
- pip install coveralls
script:
- PYTHONPATH=`pwd` pytest --cov=src
after_success:
- coveralls
env:
  global:
  - COMMIT=${TRAVIS_COMMIT::8}
  - DATA_FOLDER=`mktemp -d`
  - DATABASE_HOST=127.0.0.1
  - DATABASE_PORT=27017
  - DATABASE_NAME=test
  - secure: rXMwvdIAP6bzRYScj1GV6csDe9UVrBWenVJNa5OoiRseeLIGaHjrDkxjL6GfEUAsQNwJDZsU1D1WVOMlEehCn8uTK4DHaF/XUpTSrV9ZsuM4Tnuf5HBuPSUSX//mqZsYUMvgxH6DajJp4hxeAp8NCEQfhpiYd250jIlh5+YwBTWq5vTjotdzanWNs4YQ0p6F8gNhr85dXwpeWqW/m5pUgdQfUl6D3TS1ZF3DonU96KY5+qHUn+fVWxeUcCeeSH1INGG9ywmY08BCWSAzL9o7t1jLdaalEZuVkMSohUamLrS+2g4i3ZGxBJNKYXN0CGMRfhsG2ZUJnRzFtqxU8yvnpHt8jKKtk3pZ0xbTQPNtmYHeGzjfbMmGDAOBG6EJyQl9TFXjy9G8OePsWLjpt7PPiRpAYgVGLanzHAo0g1OuXwu8uDxplT9dtPDvnKK3HnyXJa9oFvBYlKkKjftEXy2mHwLMjjAT73M2N1K1VimogBm9oZnYK/pSFVnttfnZd2mNnBARw9hntmvyOz5DVf+Hjm4uiixhlt4YF/4FpIgLKWs70X7T/VkDojXi+aolrl6i+9eUOacwn6vC0RjHCOoig0JAQEfJomoLqXUB2YmI5ShAQ0Z+UwaG8RUJBbh8NC+uGrXoeQoaulaIJgrpSqN8aD4edFm0uEZNczReymPrkk0=
  - secure: knoC/wivq7nsn55TvM5xa+g7F5HS6JVVoK5AZjL5yIaiKEbINFPkCW7P2Y8tuKU77bf/MLJoB3iSzz942WSWT9ks+i+inP0FeZs8XbmsaORfe4kdwPwBwPr+kd8tSmQoI91PxfnAfpZvLOZCccOfh3jAfzXWwgLtgmqlsD0dWPtmm3x2PwYNWVqkA3vUz8evHPljnldYEtWrROo43tioQ70ETjbKniAndSRc/WC+hTC/oFeaH+MzwwR5siWM2KMqZtIVJsoXv0P35NOaVOAERRfdz+/TD0uuJjneeehL7r816eqU8wlB6TkMxwiHukoCd2M0ovd4yakUVJTO+42nDATcIuWwXj3omsxBzKCE2PvTqXmYrjNC47qII6bFIvMkNhx9n6sVXcvIyt3pINxhCzj9BtfQhFZMBXWdYCfaKecw1smSowEPWT+5BhqQDjnBX7A3SjihOvahWlITwA0/OtfTMbWUV5Jxj84i3uOfmcAxvKniMvuQjhCBdiYeW2Jj65PeVPwgdyXI1WV5wKshYRgogeWBDx9W2NEuKLywl7SqNdbjsI2l2yyy7ePMd7MiGK431J1Ce88ssgSTftAoPZoc9gasPKHPe6zdaRm8z+qkg1d3VSRvdwaH9vgSPu0kDjMvHL5Sf6E7A4OmeuZB9XfCg8/5cU1ibPhQmDMInWI=
  - secure: rX4T8+TVMNViNP0zD+cyZff3r2BA2DFZ32URaGLPOU5mSwWLbfVCmAfL1WjQPDpdMHkEO2VhaUV72K64WsLyEXMyphFl2HX/+QmrJavkHnJ9Wv3NCgKNHX7bip7ZwGPQDU2FXksXRyi8ecP1nyi07/ddJrQ7+fiR7U7icQx2K5nZbvKEmDt6DdKSQPeGIhnneSmF322SoG9LfiOzjfUAcn0b3mbalYwl04/8OJo/Em4JMgiI+nh9HwZBl+alh/GH3uii08wf0eTfUjX/w5lxT9wgYb++h1EAKPyXs5BVFRur0GJwAFtRUoDwC8EkVIxlsWs+tqZjNW5ybGw/a3hRkNt770dHKD2YI8IjEPZYjjPQy32K3dlMcWY9qqCCYrMYGo/LnoU+HhPxKHQ2pZnFsm/wI9nywMt++SAmWyPXQeHvwa8aOcN19h1sCsJUSaYiyogvVhs4pvH9YgIc14LbFlSa2plBSf5RUhRNt3jROwS52wz6qt4Xl/BodkD25PWaD6KHr2ODfK36PEbIWnQ3Ao9zz+O72kHziCg4Q+Zzf//zL8/4cSqAb0nHbZohRNriF4L2mTD7u7SI6VrSKgrAc1nKFwWnABJgWmnz622MZjsY4B39K+dpT5ogt70ExusQ8vciE3YrBVl497akmorA8QZAWSHGzonW6hDDTNI7jZw=
  - secure: BxzSAJ4y6QlLWiQ7+M0iPv9jAw4Qe86EPuETLJuQyZo2hzF9ShzSQ9Yu0JTu/0q70UnYb6uK9e44luqbXFI9AS9wPgZrz3HEa6whlwIhkKH8saTFK9c7pdB8HXz9XpfAiEoEpg22wKMOWiKRZaCjAdD6tESfu+L+zoOoXoJTkgewBP7WoSDiGkL05MeLzCF+qJZPxE9LuOKWg/7+EIAn6ta6ck5XRq1BzOhWxXSvDobxVg+vdvnwIFLmUYv14mfcecaiKuEJnpFo+E0qlQw9C75wnG85DVKYDS3lntmRi/Ml7ZqdW4ddkQ/kZJ3g9TKVYDOvw/wC9jI8XPicXlD0rAw9qVr9wo6liUEd9PdvUX5iiFsz8G4Mj/cBuzOOjCt1MWxQ+jXIebUUz50i01QqeLWYBqArKVrDl5z3q0L53FbDX0VTEt5tC6bnfzxK8ngso7ig4kFTz+p81xbW7iXEdSOm4NOvuQWq4NZ82MPpQ8VsgJARXeB0TYKoJRyQdVnZa/+IkUAPZnqX9kMOuHTGmqzPuwpR2lm3BykCUFJXckDkH18eV+Bo5e227tv2SmDpXK3T0z7w+iykkcya3iP/niO9F9WRXVhuPM1TinmQ0CFHDQvZbKr3YiJ83jtSs43YICWp/t2eU2M8Nc9eWMIyXsIipmvkxEr5O8XWLMJzLmA=
  - secure: Y7l+T9GqzMOsBsHnUks+2QX6iS9ssSnvvIeGz9IdhhKB/lDPLelOlEoq1OW0zNyrNvEV8fEreugMbkjz5XaEtr+tNUxIbAZ51D9R3vAXgT7u/NQyB583p0PdW6IvQPl24bVfocRzlduNpAfu770zHPTRzzCQ8csv6d1r/Ox8HLJB0x2zvsDDT08XXFpsqDlP/5O8yv1VcCIxpvm2P0iTMT46ANLaXMi8bfVd78NyRfK0NlUcU0MmAj741Cq1v8pNoEC2IxoOq3S2MrTm3Eb4DNIPs8USYy90hNUMJ0YcSFH3Whwo3bWFDicbj99Wpd+WvYrG7aAW/uR7WfWefYP5dL+pjBo3kObNBbngQd2HiNrlu5BfD/UdT5rPQDHz5WZJuuuGJw8znoZ/vsBXNxOaT0xtshDsNN2amkpCDCtSmTXgin1dZM2jbgWW5RPWuuzqev1m15VsatGae18xT8x8VhPTi1YRTMZjEvLQ+Vkej3eaKuv5qSPT/pmrIFPJMpdFiipeOKnAL7SF+Fj3dylaGYVM9JUsfJFXIvezTSiwJavC7MyfyiQyMsDD3CtgKcTlkrsabVBIH7maKItsg9C2yPLBSfatlrFX/LinqSqpDogU0ig/cgYRyxkeYgt4/ZzyA0MpOwqaVugzOhlHTCF9fetdVGArmQmjRy9dMgMgnqo=
  - secure: BdeM/QB4e650+8zQXUwmNKn77c4eid6gmiiwfWA204wSUbdqHc0OIOLglCJcD9OmT1kh2e2MniCzmhAFaQPMZwoDUTOYv5uKM9GZcd9HZF7XBk1LEUHnsxjtsnJgWrU92LRPvGJueR+m9QujzBuWOZpmVDuy3TKjA5gIgnqWaMUfAdR3IiXPDpuLq6PAR48/uujsFdGBpe79vJzKQb8VusQwN0+kkTPyQtKI9I9y6WR1hSJRxpx1NFizZ/WTr4vVNbSVvyHDYIZttfolNwfl2RDLJjEmZIFDviKZR4ICBoCRtwne/tNJAjieiZlo/wnJD1/04Pfb9WuSL1N9CC3Oyra435vTe7Y7i2f7DUqPLs+O9gqD4si2z8tFljZvliIVy1ShG37RPAyUGuJ7D1dYdOJeLVVjJrsMdZ5b+IPAuLZublJrX+a/NxeWzKVr3p2Rmw8b0oL9bAt+LD/DlH+vKmPSKoaRoT80lyYGyEAynW73oK5UVs5p8y8XLK7K17g/ly9nLwRBlplHo1FtNyxKbj0VVeRzHXj8yWIj09sICz75L3/K5FxtCMhdV7+JTRzY1rGHLliHzVqLeva3HoBOUxZ/P1Uq6ZrqfL5if/7UD798NlO5dAq8xQPfnJfmUNOcbhZmwmr4GFvlYf+FBOtboMa4SEv/waQEk98GRsZuQfk=
  - secure: FbNEGfvsEhRcylLGDrR4YZorScJQo0QpgXWpaWl5U7gLZYjOhAhYvXAiq1Z59uLkfpJNLDYkyLs2Ka3znzxkqP93MegybSy8Fhns1ZfF4BkNNB4uCVgD9mTvybyXOrX28oCwYEwgA6pj34iAmrJ2NyDQqNZeshZYZ3PhR9ZV1MtAWakpf7Nu5oG11YXzQY1sTPnuT4sAvBHGEMJk8N9MpdLJ/ExPCPbUD077HHQp4+cz/6Ee8BpeFIj4yxFJKqGO6Ds23l7QRF2nwzMJMDlZazi8/GqrfY7nxovbaJkRAFHklNKa8utlRNOg/WpKEUQTLVz3KjUFT/7jy/HiKCyFHcOxzZDyTI67HaGaFyQOgKVdX6SO/5893jq5HZeznq4m2tpEtZnARo01x7UpS1iCuAxS1mTILjB2OxNduy3g+h8CldgjGnL9xrEhermmwfTAglTNf0IHmx283LWTYQg/2av7p0eoDxEKvHcMNF2WFB18FnfKiZ2SDepSAYEil5JqAF+wqVqD0Mrww1hPCVFS6fVxaJQp0A2k0C92EMnTMunZf8tvf/xqF+Sqq73R2EoFvgrEFVXJwX671rfIpAWJLyZNn9Vh0SyY+8TyP6Lkh07NviLgWhmKBmnCpGEZiUTHuDcOq1QWaBBCzzuIL/qqN/Y5Y5k/BLwq+8lRhSoqrBo=
  - secure: E0ZCPiCCcqAYasENTYiT2BGGg4lH0vgC+l0N9HVXFSovxyJJqIZ+3GamgI8hy7Feia5xr7wmbIs+UdQ/YiK/gER2z7wrnHUvuqA8DLljEYwv0jvWJoes14j+AXglrEqR2sbbz8vAnerRz4PXx5WCw8DVcIKfvEARqvzVCCamq7GZLfH8qIMcM09V6LnkVae25Fl4OQLYhSP089gOpchUP4lF1dE9YNslB/GtdpVlf17/w4IxCL9KBGBY8t4l6+Nzr2OGeGbKpPEwjPyRpXwiMSvFwxORrCQiOT/PK5lBA78zvvK+ovSZEX+8qmV5wXgBz0BmwXfPaeuSxvMKw3Cwdc6DXBoBehJ8HVVAFw6lNy94k+KFtZC/xZlsQYAziX6RSw+OHB1Xs0cCTSaBvC9ipiXwMgBXm3ZlWyMOBQYy2Q0jcFcE5rd6m1X0dUkYaHv/X6oGFIb6VruyKmNj9lh7DBDuoqKBDf+GuEaTLCywLmvtSey5HnBbQ3biRHEgRztnAwYP8//KIAwZlR1SqAoQ6N1uz00enkr5M38aNyHKvNngEY6vhth3XXHouWDmSHrLWN2h4uwIRFAsCHJYHpstqZPNsMyG4gvBmt16ImtYgv5NAXUkOmYuekWeoD4q2ESTwvjnQi7dYWibFl9pYLU1YBNCQeQIK5uvdYtgVzw/x8w=
  - secure: pQB2qtVsixTdZXXld5Ja+StrdTe7M54YQZ//MR228/T4SFV0mSwT18PQxulqu8WIYq1JQKiA7+2HlaH3qEfejz+PEN6cuik36+B/t63I59p6T3ar5ooMC4c9uJ+sng3cv/8SEU4NImJzvJmPeXY1phFn/G7G+Dzh51ZVw4Ebusp/WawKxr1BnZBON5BQx6gfXOPKXuJTwsSyQFNm3jeffl8pur4Vu7/derWdRPC91g3s8g/948UZk1KkEMUOL6iYsDMmIMNWYj/kzivQUQVZnN1ByJEcTS13lBZre7D1pezUUVRuZKEZSaNjDxM5XJ1cR0nZBmSM4aQW4qa5bvtqbbnxG4LWzfcA3nD9a5Yt2kyDqxZEV3svOwYz7PFhinaBpRnSE5fdxp/8UxSWm8mMVeI5xjs/bInZ7Vwuc35IqrUL8mgWO9Kr3p9ZP6/IgEbUmHw+RiED2Kbc3nD+SASIyRSQC87VGuABzQDwR3ZNgHBdYkPuefdcX9PjEJQvpu9IQ2YEh8xS2isFZlMQmDbqVAXuv72ts86kcI1iwW9s/IWF6wc4sUuWpkRwLQIARxJ7aQgxZ0HqgOp2EluCLptRkUK6KlRg7Ri+U9lGdM2DdyrEVptNTmTlRF93hvv+hhkX3XpFmLMUL2L12FhCk1X+i6hiyQjDkGVazSBBZOwTUF4=
  - secure: i4ZH+cGHGPaNLBx5kQpCuq33WwPL3dHv+ykzznlI1RPQe0D7+2ReNd8ivDwD+YSkcR61GTbr0l1otrdvsbSuu0bgLdoHTLwK67f7fJ/6949m+Mzf7G7TTi3/niDc8nKFT5azYsTpNqvrD7y5ci7+AZxY0Af0GZULCe+MJaN7ex16tKzqiqyVrSHnFXWncCXHCkf3KW1b/MKbORKB/uzD77YyDMlc7ZLbkTMKj1FR9E2P9jt/Sp7B8j4BktOau9MuavwVyTOwGuutEZ3NXDgnI2BlknaYBidK97wvvlZauXE6VI2HmwrrYEZIFBV3mCl7h4v4b7S1Zn70hbnJNSR6F/UMzcUxxKRW+uT/iYHRGFkVoRHcSkItx8DoRfaTBiLWcNtF0Oxxj0qosIWjKyErp792lfI7u8C8Z0tVoeewtGJikGmnp05SzOPy7yQ1iDfeKNIV31wT7GO2uhVD/STvMiyXACAI5ZlsusAnFuw8jaN/13zG9yIf4Dazgv+OVpuUNTtm2F0EUrUYA7nak3GXwyh+iNYz1vMDihzZ5c+9zlSW2xqXAvWArOSQJ+SmxqGpYA0ew87ELvl1TEmc7omqdUCmoXg3rZAon6gwT5X7BOrLrSNLbh/TnpbKFYXKYQvWtUc06RNjPH8X6uv/t5DfyPUAEXrnpkC9ly5SKxKxX0M=
notifications:
  email:
  - rsd@esciencecenter.nl
