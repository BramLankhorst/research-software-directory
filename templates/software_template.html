<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <link rel= "stylesheet" type= "text/css" href= "{{url_for('static', filename='common_style.css')}}">
        <link rel= "stylesheet" type= "text/css" href= "{{url_for('static', filename='software_style.css')}}">
        <link rel= "stylesheet" type= "text/css" href= "{{url_for('static', filename='read_more_style.css')}}">
        <script src="https://code.jquery.com/jquery-3.2.1.js" integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE=" crossorigin="anonymous"></script>
        <script src="https://cdn.plot.ly/plotly-latest.min.js" crossorigin="anonymous"></script>
        <!–– <script type="text/javascript" src="{{url_for('static', filename='read_more.js')}}"></script>
        <script type="text/javascript" src="/dynamic/{{software_id}}/commitsData.js"></script>
        <title>Research Software Directory | {{template_data.name}}</title>
    </head>

    <body>

        <div id="layout_container">
            <div id="header">
                <div id="header_logo">
                    <a href="https://www.esciencecenter.nl" target="_blank">
                        <img src="{{url_for('static', filename='logos/nlesc.png')}}">
                    </a>
                </div>
                <div id="header_text">
                    Research Software Directory
                </div>
                <div id="header_links">
                    <a href="/">Find software</a>
                    <a href="/">About the platform</a>
                </div>
            </div>

            <div id="body">
                {% if template_data.name %}
                <div class="name">{{template_data.name}}</div>
                {% endif %}
                {% if template_data.contributor %}
                <div class="by">By {{", ".join(template_data.contributor|checkcontributor)}}</div>
                {% endif %}
                {% if template_data.tagLine %}
                <div class="tagLine">{{template_data.tagLine}}</div>
                {% endif %}

                <div class="box">
                    <div class="box_left">
                        {% if template_data.codeRepository %}
                        <div class="codeRepository"><a href={{template_data.codeRepository}} target="_blank">codeRepository</a></div>
                        {% endif %}
                        {% if template_data.website %}
                        <div class="website"><a href={{template_data.website}} target="_blank">website</a></div>
                        {% endif %}
                        {% if template_data.downloadUrl %}
                        <div class="downloadUrl"><a href={{template_data.downloadUrl}} target="_blank">downloadUrl</a></div>
                        {% endif %}
                        {% if template_data.documentationUrl %}
                        <div class="documentationUrl"><a href={{template_data.documentationUrl}} target="_blank">documentationUrl</a></div>
                        {% endif %}
                    </div>
                    <div class="box_right">
                        {% if template_data.name %}
                        <div class="software_commitsPlot" id="commitsPlot"></div>
                        <div class="software_commitsStat" id="commitsStat"></div>
                        {% endif %}
                    </div>
                </div>

                {% if template_data.statement %}
                <div class="statement">
                    <div class="subtitle">Why {{template_data.name}}?</div>
                    {{statementMarkup}}
                </div>
                {% endif %}

                <div class="divider"></div>

                {% if template_data.contributingOrganization %}
                <div class="contributingOrganization">
                    <div class="subtitle">In collaboration with</div>
                    <div class="flex_container">
                        {% for contributingOrganization in template_data.contributingOrganization %}
                        <div class="flex_item">
                        {% if contributingOrganization.website %}
                            <a href="{{contributingOrganization.website}}" target="_blank">
                        {% endif %}
                        {% if organisation_logos[contributingOrganization.id] %}
                                <img src="{{url_for('static', filename='logos/'+organisation_logos[contributingOrganization.id])}}" alt="{{contributingOrganization.name}}">
                        {% else %}
                                {{contributingOrganization.name}}
                        {% endif %}
                        {% if contributingOrganization.website %}
                            </a>
                        {% endif %}
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}

                <div class="divider"></div>

                <div class="creators">
                    <div class="subtitle">Creators</div>
                    {% if template_data.contactPerson %}
                    <div class="creators_left">
                        <div class="subsubtitle">Contact person</div>
                        <div class="contactPerson">
                            {% if template_data.contactPerson.website %}
                            <a href="{{template_data.contactPerson.website}}" target="_blank">
                               {{template_data.contactPerson.name}}
                            </a>
                            {% else %}
                               {{template_data.contactPerson.name}}
                            {% endif %}
                        </div>
                        <div class="contactEmail">{{template_data.contactPerson.email}}</div>
                    </div>
                    {% endif %}
                    {% if template_data.contributor %}
                    <div class="creators_right">
                        <div class="subsubtitle">Contributors</div>
                        <div class="flex_container">
                            {% for contributor in template_data.contributor %}
                            {% if contributor.name != template_data.contactPerson.name %}
                            <div class="contributor flex_item">
                                {% if contributor.linkedInUrl %}
                                <a href="{{contributor.linkedInUrl}}" target="_blank">
                                   {{contributor.name}}
                                </a>
                                {% else %}
                                   {{contributor.name}}
                                {% endif %}
                                {% if contributor.affiliation %}
                                <br>
                                {{contributor.affiliation}}
                                {% endif %}
                            </div>
                            {% endif %}
                            {% endfor %}
                        </div>
                    {% endif %}
                    </div>
                </div>

                <div class="divider"></div>

                <div class="mentions">
                    <div class="subtitle">Mentions</div>
                </div>

                {% if template_data.testimonial %}
                    <div class="divider"></div>
                    <div class="testimonial">"{{template_data.testimonial}}"</div>
                    <div class="testimonialby">- {{template_data.testimonialBy}}</div>
                {% endif %}

                <div class="divider"></div>

                {% if template_data.doi %}
                <div class="doi">DOI: <a href="http://dx.doi.org/{{template_data.doi}}" target="_blank">{{template_data.doi}}</a></div>
                {% endif %}
                {% if template_data.license %}
                <div class="license">license(s): {{", ".join(template_data.license)}}</div>
                {% endif %}
                {% if template_data.competence %}
                <div class="competence">competence(s): {{", ".join(template_data.competence)}}</div>
                {% endif %}
                {% if template_data.discipline %}
                <div class="discipline">discipline(s): {{", ".join(template_data.discipline)}}</div>
                {% endif %}
                {% if template_data.expertise %}
                <div class="expertise">expertise(s): {{", ".join(template_data.expertise)}}</div>
                {% endif %}
                {% if template_data.updatedAt %}
                <div class="updatedAt">updatedAt: {{template_data.updatedAt|strftime}}</div>
                {% endif %}

                <div class="divider"></div>

                {% if template_data.programmingLanguage %}
                <div class="programmingLanguage">
                    programmingLanguage(s):
                    <ul>
                        {% for programmingLanguage in template_data.programmingLanguage %}
                          <li>{{ programmingLanguage }}</li>
                        {% endfor %}
                    </ul>
                </div>
                {% endif %}
                {% if template_data.owner %}
                <div class="owner">
                    owner(s):
                    <ul>
                        {% for owner in template_data.owner %}
                          <li>{{ owner }}</li>
                        {% endfor %}
                    </ul>
                </div>
                {% endif %}
                {% if template_data.technologyTag %}
                <div class="technologyTag">
                    technologyTag(s):
                    <ul>
                        {% for technologyTag in template_data.technologyTag %}
                          <li>{{ technologyTag }}</li>
                        {% endfor %}
                    </ul>
                </div>
                {% endif %}
            </div>

            <div id="footer">
                <div id="footer_text">
                    The Research Software Directory aims to promote the impact, the exchange and the re-use of best practices and to prevent fragmentation and duplication of research software.
                </div>
                <div id="footer_logo">
                    <a href="https://www.esciencecenter.nl" target="_blank">
                        <img src="{{url_for('static', filename='logos/nlesc.png')}}">
                    </a>
                </div>
                <div id="footer_links">
                    <a href="/">Find software</a>
                    <a href="/">About the platform</a>
                </div>
            </div>
        </div>

    <script src="{{ url_for('static',filename='plot_commits.js') }}"></script>

    </body>
</html>

